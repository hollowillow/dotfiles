###################
### KEYBINDINGS ###
###################

# https://wiki.hypr.land/Configuring/Binds/
$mainMod = ALT
$scriptMod = SUPER

#############
### BASIC ###
#############

bindd = $mainMod, space, Open program launcher, exec, term-menu fmenu

bindd = $mainMod CONTROL, Exit Hyprland, Escape, exit,
bindd = $mainMod, r, Reload Hyprland, exec, hyprctl reload
bindd = $mainMod, w, Toggle Waybar, exec, waybar-toggle

bindd = $mainMod, Return, Spawn a terminal, exec, $TERMINAL
bindd = $mainMod SHIFT, Return, Spawn a tmux attached terminal, exec, $TERMINAL -e tmux new-session -A -s init

bindd = $mainMod, q, Kill focused window, killactive,
bindd = $mainMod SHIFT, q, Force kill focused window, forcekillactive,

bindd = $mainMod, Escape, Open power menu, exec, term-menu power

bindd = $mainMod, Tab, Toggle fullscreen state, fullscreen

bindd = $mainMod, p, Enter passthrough submap, submap, PASSTHROUGH
submap = PASSTHROUGH
bindd = $mainMod, escape, Exit passthrough submap, submap, reset
submap = reset

# bindd = $mainMod, v, Toggle floating state, togglefloating,
# bindd = $scriptMod, space, Switch keyboard lang/layout, exec, hyprctl switchxkblayout current next
# bindd = $mainMod, =, Toggle opacity, setprop, active opaque toggle

#####################
### MASTER LAYOUT ###
#####################

bindd = $mainMod, j, Focus next tile, layoutmsg, cyclenext
bindd = $mainMod, k, Focus previous tile, layoutmsg, cycleprev
bindd = $mainMod, h, Focus master tile, layoutmsg, focusmaster
bindd = $mainMod, l, Add tile to master, layoutmsg, addmaster

bindd = $mainMod SHIFT, j, Swap current tile with next tile, layoutmsg, swapnext
bindd = $mainMod SHIFT, k, Swap current tile with previous tile, layoutmsg, swapprev
bindd = $mainMod SHIFT, h, Swap current tile with master tile, layoutmsg, swapwithmaster
bindd = $mainMod SHIFT, l, Remove tile from master, layoutmsg, removemaster

bindd = $mainMod CONTROL, j, Rotate stack forward, layoutmsg, rollprev
bindd = $mainMod CONTROL, k, Rotate stack backward, layoutmsg, rollnext

bindd = $mainMod, m, Enter master layout ratio submap, submap, RATIO
submap = RATIO
bindde = , j, Decrease master ratio, layoutmsg, mfact -0.01
bindde = , k, Increase master ratio, layoutmsg, mfact +0.01
bindde = , h, Reset master ratio, layoutmsg, mfact exact 0.6
bind = , catchall, submap, reset
submap = reset

bindd = $mainMod SHIFT, m, Enter master layout orientation submap, submap, ORIENTATION
submap = ORIENTATION
bindd = , h, Set master orientation left, layoutmsg, orientationleft
bindd = , j, Set master orientation bottom, layoutmsg, orientationbottom
bindd = , k, Set master orientation top, layoutmsg, orientationtop
bindd = , l, Set master orientation right, layoutmsg, orientationright
bindd = , g, Set master orientation center, layoutmsg, orientationcenter
bind = , catchall, submap, reset
submap = reset

##################
### WORKSPACES ###
##################

bindd = $mainMod, a, Focus utility workspace, workspace, 1
bindd = $mainMod, s, Focus browser workspace, workspace, 2
bindd = $mainMod, d, Focus media workspace, workspace, 3
bindd = $mainMod, f, Focus gaming workspace, workspace, 4
bindd = $mainMod, g, Toggle scratchpad, togglespecialworkspace, scratchpad

bindd = $mainMod SHIFT, a, Move with tile to utility workspace, movetoworkspace, 1
bindd = $mainMod SHIFT, s, Move with tile to browser workspace, movetoworkspace, 2
bindd = $mainMod SHIFT, d, Move with tile to media workspace, movetoworkspace, 3
bindd = $mainMod SHIFT, f, Move with tile to gaming workspace, movetoworkspace, 4
bindd = $mainMod SHIFT, g, Move with tile to scratchpad, movetoworkspace, special:scratchpad

bindd = $mainMod CONTROL, a, Move tile to utility workspace, movetoworkspacesilent, 1
bindd = $mainMod CONTROL, s, Move tile to browser workspace, movetoworkspacesilent, 2
bindd = $mainMod CONTROL, d, Move tile to media workspace, movetoworkspacesilent, 3
bindd = $mainMod CONTROL, f, Move tile to gaming workspace, movetoworkspacesilent, 4
bindd = $mainMod CONTROL, g, Move tile to scratchpad, movetoworkspacesilent, special:scratchpad

#############
### MEDIA ###
#############

binddel = ,XF86AudioRaiseVolume, Increase volume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
binddel = ,XF86AudioLowerVolume, Decrease volume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
binddl = ,XF86AudioMute, Mute volume, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

binddl = , XF86AudioNext, Media playback next, exec, playerctl --player=mpv,%any next
binddl = , XF86AudioPlay, Media playback toggle, exec, playerctl --player=mpv,%any play-pause
binddl = , XF86AudioPrev, Media playback previous, exec, playerctl --player=mpv,%any previous

binddel = ,XF86MonBrightnessUp, Increase screen britghness, exec, hyprctl hyprsunset gamma +10
binddel = ,XF86MonBrightnessDown, Decrease screen britghness, exec, hyprctl hyprsunset gamma -10

###############
### SCRIPTS ###
###############

bindd = $scriptMod, w, Change to a random wallpaper, exec, wp -r
bindd = $scriptMod SHIFT, w, Select a wallpaper, exec, term-menu wp -s

bindd = $scriptMod, b, Enter bookmark submap, submap, BOOKMARK
submap = BOOKMARK
bindd = , o, Open bookmark in firefox, exec, term-menu "bm-open | xargs -rI % sh -c 'nohup firefox % &'"
bindd = , m, Open bookmark in mpv, exec, term-menu "bm-open | xargs -rI % sh -c 'nohup mpv % &'"
bindd = , c, Copy bookmark, exec, term-menu "bm-open | xargs -r wl-copy"
bindd = , e, Edit bookmark file, exec, $TERMINAL -e $EDITOR $BOOKMARK_FILE
bind = , o, submap, reset
bind = , m, submap, reset
bind = , c, submap, reset
bind = , e, submap, reset
bind = , catchall, submap, reset
submap = reset
bindd = $scriptMod SHIFT, b, Add bookmark, exec, term-menu "bm-add "$(wl-paste)""

bindd = $scriptMod, o, Opens search menu, exec, term-menu s
bindd = $scriptMod, m, Opens fuzzy man, exec, term-menu fzman
bindd = $scriptMod, a, Opens autostart menu, exec, term-menu autostart
bindd = $scriptMod, h, Opens process manager, exec, term-menu "$PROCESS_MANAGER -p 5"
bindd = $scriptMod, s, Opens fuzzy audio sink menu, exec, term-menu fzpactl
# bindd = $scriptMod, n, Opens newsraft, exec, term-menu newsraft

#############
### MOUSE ###
#############

bindd = $mainMod, mouse_down, Scroll through workspaces, workspace, e+1
bindd = $mainMod, mouse_up, Scroll through workspaces, workspace, e-1

binddm = $mainMod, mouse:272, Move window with LMB, movewindow
binddm = $mainMod, mouse:273, Resize window with RMB, resizewindow

binddc = $mainMod, mouse:274, Toggle floating state with MMB, togglefloating
